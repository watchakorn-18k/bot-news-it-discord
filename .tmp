How Allegro Does Automated Code Migrations for over 2000 Microservices