SMTP server from scratch in Go â€“ FSM, raw TCP, and buffer-oriented I/O