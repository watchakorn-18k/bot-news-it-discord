Pre-commit hooks are fundamentally broken